--凭证模块
DROP TABLE ACC_FVCHFRAME;
CREATE TABLE [ACC_FVCHFRAME] (
  --企业代码
  [TENANT_ID] int  NOT NULL,
  --单据类型 01采购订单 02采购进货 03采购退货 04 销售订单 05 销售出货 06销售退货 07领用单 08 损益单 09收款单 10 付款单  11 零售单据 12缴款单 13 其他收入 14其他支出 15 存取款单
  [FVCH_GTYPE] [char](2)   NOT NULL,
  --序号
	[SEQNO] [int] NOT NULL ,
  --科目代码
  [SUBJECT_NO] [varchar](10)   NOT NULL,
  --摘要
  [SUMMARY] [varchar](100)   NOT NULL,
        --金额<取数字段>
	[AMONEY] [varchar](20) NULL,
        --数量<取数字段>
	[AMOUNT] [varchar](20) NULL,
        --单价<取数字段>
	[APRICE] [varchar](20) NULL,
  --取数条件=>ACC_FVCHSWHERE
  [SWHERE] [char](36) NULL,
  --分录明细 100000000 按位取数0代表不分细明1表代分明细(1人员 2部门 3门店<仓库> 4往来单位 其他分别为专项1-5)
  [DATAFLAG] [varchar](8)   NOT NULL,
  --记账方向  1借方 2贷方
  [SUBJECT_TYPE] [char](1) NOT NULL,
  CONSTRAINT [PK_ACC_FVCHFRAME] PRIMARY KEY 
  ( 
		[TENANT_ID],
		[FVCH_GTYPE],
    [SEQNO]
  )
);
CREATE INDEX IX_ACC_FVCHFRAME_TENANT_ID ON ACC_FVCHFRAME (TENANT_ID);
CREATE INDEX IX_ACC_FVCHFRAME_FVCH_GTYPE ON ACC_FVCHFRAME (TENANT_ID,FVCH_GTYPE);

--凭证模块条件
CREATE TABLE [ACC_FVCHSWHERE] (
  --企业代码
  [TENANT_ID] int  NOT NULL,
  --行号
  [SROW_ID] [char](36)   NOT NULL,
  --条件ID
  [SWHERE] [char](36)   NOT NULL,
  --摘要
  [FIELD_NAME] [varchar](30)   NOT NULL,
  --操作符 in 或 not in
  [FIELD_EQUE] [varchar](6) NULL
  --操作符
  [FIELD_VALUE] [varchar](50) NULL
  CONSTRAINT [PK_ACC_FVCHSWHERE] PRIMARY KEY 
  ( 
		[TENANT_ID],
		[SROW_ID]
  )
);
CREATE INDEX IX_ACC_FVCHSWHERE_TENANT_ID ON ACC_FVCHSWHERE (TENANT_ID);
CREATE INDEX IX_ACC_FVCHSWHERE_SWHERE ON ACC_FVCHSWHERE (TENANT_ID,SWHERE);
